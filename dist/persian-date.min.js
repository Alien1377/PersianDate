/*
** persian-date - v0.1.8
** Reza Babakhani <babakhani.reza@gmail.com>
** http://babakhani.github.io/PersianWebToolkit/docs/persian-date/
** Under WTFPL license 
*/ 
(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e){return(""+e).toPersianDigit()}function a(e){return"[object Array]"===Object.prototype.toString.call(e)}function r(e){return"string"==typeof e?!0:!1}function n(e){return"number"==typeof e?!0:!1}function s(e){return e instanceof Date}function i(e){return e===void 0?!0:!1}function o(e,t){for(var a=e+"";t>a.length;)a="0"+a;return a}function u(){var e=void 0,t=void 0;return r(arguments[0])?(e=arguments[0],t=arguments[1]):(t=arguments[0],e=arguments[1]),m.year.indexOf(e)>-1?e="year":m.month.indexOf(e)>-1?e="month":m.day.indexOf(e)>-1?e="day":m.hour.indexOf(e)>-1?e="hour":m.minute.indexOf(e)>-1?e="minute":m.second.indexOf(e)>-1&&(e="second"),{unit:e,value:t}}function h(e){return 0>e?Math.ceil(e):Math.floor(e)}function f(e,t){return e-t*Math.floor(e/t)}function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c=function(){function e(e,t){for(var a=0;t.length>a;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),d=function(){function t(){e(this,t)}return c(t,[{key:"jwday",value:function(e){var t=function t(e,t){return e-t*Math.floor(e/t)};return t(Math.floor(e+1.5),7)}},{key:"isLeapGregorian",value:function(e){return 0==e%4&&!(0===e%100&&0!=e%400)}},{key:"isLeapPersian",value:function(e){return 682>682*((e-(e>0?474:473))%2820+474+38)%2816}},{key:"gregorianToJd",value:function(e,t,a){return l-1+365*(e-1)+Math.floor((e-1)/4)+-Math.floor((e-1)/100)+Math.floor((e-1)/400)+Math.floor((367*t-362)/12+(2>=t?0:this.isLeapGregorian(e)?-1:-2)+a)}},{key:"jdToGregorian",value:function(e){var t=Math.floor(e-.5)+.5,a=t-l,r=Math.floor(a/146097),n=f(a,146097),s=Math.floor(n/36524),i=f(n,36524),o=Math.floor(i/1461),u=f(i,1461),h=Math.floor(u/365),c=400*r+100*s+4*o+h;4!=s&&4!=h&&c++;var d=t-this.gregorianToJd(c,1,1),m=this.gregorianToJd(c,3,1)>t?0:this.isLeapGregorian(c)?1:2,y=Math.floor((12*(d+m)+373)/367),v=t-this.gregorianToJd(c,y,1)+1;return[c,y,v]}},{key:"persianToJd",value:function(e,t,a){var r=void 0,n=void 0;return r=e-(e>=0?474:473),n=474+f(r,2820),a+(7>=t?31*(t-1):30*(t-1)+6)+Math.floor((682*n-110)/2816)+365*(n-1)+1029983*Math.floor(r/2820)+(y-1)}},{key:"jdToPersian",value:function(e){var t=void 0,a=void 0,r=void 0,n=void 0,s=void 0,i=void 0,o=void 0,u=void 0,h=void 0,c=void 0;return e=Math.floor(e)+.5,n=e-this.persianToJd(475,1,1),s=Math.floor(n/1029983),i=f(n,1029983),1029982===i?o=2820:(u=Math.floor(i/366),h=f(i,366),o=Math.floor((2134*u+2816*h+2815)/1028522)+u+1),t=o+2820*s+474,0>=t&&(t-=1),c=e-this.persianToJd(t,1,1)+1,a=186>=c?Math.ceil(c/31):Math.ceil((c-6)/30),r=e-this.persianToJd(t,a,1)+1,[t,a,r]}},{key:"calcPersian",value:function(e,t,a){var r=this.persianToJd(e,t,a),n=this.jdToGregorian(r);return[n[0],n[1]-1,n[2]]}},{key:"calcGregorian",value:function(e,t,a){var r=this.gregorianToJd(e,t+1,a)+Math.floor(.5)/86400,n=this.jdToPersian(r),s=this.jwday(r);return[n[0],n[1],n[2],s]}},{key:"toPersianDate",value:function(e){var t=this.calcGregorian(e.getFullYear(),e.getMonth(),e.getDate()),a={};return a.monthDayNumber=t[2]-1,6==t[3]?a.weekDayNumber=1:5==t[3]?a.weekDayNumber=0:4==t[3]?a.weekDayNumber=6:3==t[3]?a.weekDayNumber=5:2==t[3]?a.weekDayNumber=4:1==t[3]?a.weekDayNumber=3:0==t[3]&&(a.weekDayNumber=2),a.year=t[0],a.month=t[1],a.day=a.weekDayNumber,a.date=t[2],a.hours=e.getHours(),a.minutes=10>e.getMinutes()?"0"+e.getMinutes():e.getMinutes(),a.seconds=e.getSeconds(),a.milliseconds=e.getMilliseconds(),a.timeZoneOffset=e.getTimezoneOffset(),a}},{key:"persianArrayToGregorianDate",value:function(e){var t=this.calcPersian(e[0]?e[0]:0,e[1]?e[1]:1,e[2]?e[2]:1),a=new Date(t[0],t[1],t[2]);return a.setYear(t[0]),a.setMonth(t[1]),a.setDate(t[2]),a.setHours(e[3]?e[3]:0),a.setMinutes(e[4]?e[4]:0),a.setSeconds(e[5]?e[5]:0),a.setMilliseconds(e[6]?e[6]:0),a}},{key:"getPersianArrayFromPDate",value:function(e){return[e.year,e.month,e.date,e.hours,e.minutes,e.seconds,e.milliseconds]}}]),t}(),m={year:["y","years","year"],month:["M","months","month"],day:["d","days","day"],hour:["h","hours","hour"],minute:["m","minutes","minute"],second:["s","second","seconds"],millisecond:["ms","milliseconds","millisecond"],week:["w","","weeks","week"]},l=1721425.5,y=1948320.5,v={1:{name:{fa:"فروردین"},abbr:{fa:"فرو"}},2:{name:{fa:"اردیبهشت"},abbr:{fa:"ارد"}},3:{name:{fa:"خرداد"},abbr:{fa:"خرد"}},4:{name:{fa:"تیر"},abbr:{fa:"تیر"}},5:{name:{fa:"مرداد"},abbr:{fa:"مرد"}},6:{name:{fa:"شهریور"},abbr:{fa:"شهر"}},7:{name:{fa:"مهر"},abbr:{fa:"مهر"}},8:{name:{fa:"آبان"},abbr:{fa:"آبا"}},9:{name:{fa:"آذر"},abbr:{fa:"آذر"}},10:{name:{fa:"دی"},abbr:{fa:"دی"}},11:{name:{fa:"بهمن"},abbr:{fa:"بهم"}},12:{name:{fa:"اسفند"},abbr:{fa:"اسف"}}},D={1:{name:{fa:"شنبه"},abbr:{fa:"ش"}},2:{name:{fa:"یکشنبه"},abbr:{fa:"ی"}},3:{name:{fa:"دوشنبه"},abbr:{fa:"د"}},4:{name:{fa:"سه شنبه"},abbr:{fa:"س"}},5:{name:{fa:"چهار شنبه"},abbr:{fa:"چ"}},6:{name:{fa:"پنج شنبه"},abbr:{fa:"پ"}},0:{name:{fa:"جمعه"},abbr:{fa:"ج"}}},g=["اورمزد","بهمن","اوردیبهشت","شهریور","سپندارمذ","خورداد","امرداد","دی به آذز","آذز","آبان","خورشید","ماه","تیر","گوش","دی به مهر","مهر","سروش","رشن","فروردین","بهرام","رام","باد","دی به دین","دین","ارد","اشتاد","آسمان","زامیاد","مانتره سپند","انارام","زیادی"],M=function M(t,a){e(this,M);var r={},n=this._data={},s=0,i=u(t,a),o=i.unit;r[o]=i.value,s=r.milliseconds||r.millisecond||r.ms||0;var f=r.years||r.year||r.y||0,c=r.months||r.month||r.M||0,d=r.weeks||r.w||r.week||0,m=r.days||r.d||r.day||0,l=r.hours||r.hour||r.h||0,y=r.minutes||r.minute||r.m||0,v=r.seconds||r.second||r.s||0;return this._milliseconds=s+1e3*v+6e4*y+36e5*l,this._days=m+7*d,this._months=c+12*f,n.milliseconds=s%1e3,v+=s/1e3,n.seconds=v%60,y+=h(v/60),n.minutes=y%60,l+=h(y/60),n.hours=l%24,m+=h(l/24),m+=7*d,n.days=m%30,c+=h(m/30),n.months=c%12,f+=h(c/12),n.years=f,this};M.prototype={valueOf:function(){return this._milliseconds+864e5*this._days+2592e6*this._months}},String.prototype.toPersianDigit=function(e){return this.replace(/\d+/g,function(t){var a,r,n=[],s=[];for(a=0;t.length>a;a+=1)n.push(t.charCodeAt(a));for(r=0;n.length>r;r+=1)s.push(String.fromCharCode(n[r]+(e&&e===!0?1584:1728)));return s.join("")})};var c=function(){function e(e,t){for(var a=0;t.length>a;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),p=function(){function r(t){if(e(this,r),this.algorithms=new d,i(t))this.gDate=new Date;else if(s(t))this.gDate=t;else if(a(t)){var o=t.slice();this.gDate=this.algorithms.persianArrayToGregorianDate(o)}else n(t)?this.gDate=new Date(t):t instanceof r?this.gDate=t.gDate:"/Date("===t.substring(0,6)&&(this.gDate=new Date(parseInt(t.substr(6))));return this.pDate=this.algorithms.toPersianDate(this.gDate),this.version="0.1.8b",this.formatPersian="_default",this._utcMode=!1,this}return c(r,[{key:"duration",value:function(e,t){return new M(e,t)}},{key:"isDuration",value:function(e){return e instanceof M}},{key:"add",value:function(e,t){var a=new M(e,t)._data;if(a.years>0){var n=this.year()+a.years;this.year(n)}if(a.months>0){var s=this.month()+a.months;this.month(s)}if(a.days>0){var i=this.date()+a.days;this.date(i)}if(a.hours>0){var o=this.hour()+a.hours;this.hour(o)}if(a.minutes>0){var u=this.minute()+a.minutes;this.minute(u)}if(a.seconds>0){var h=this.second()+a.seconds;this.second(h)}if(a.milliseconds>0){var f=this.milliseconds()+a.milliseconds;this.milliseconds(f)}return new r(this.valueOf())}},{key:"subtract",value:function(e,t){console.log("key :"+e),console.log("value :"+t);var a=new M(e,t)._data;if(a.years>0){var n=this.year()-a.years;this.year(n)}if(a.months>0){var s=this.month()-a.months;this.month(s)}if(a.days>0){var i=this.date()-a.days;this.date(i)}if(a.hours>0){var o=this.hour()-a.hours;this.hour(o)}if(a.minutes>0){var u=this.minute()-a.minutes;this.minute(u)}if(a.seconds>0){var h=this.second()-a.seconds;this.second(h)}if(a.milliseconds>0){var f=this.milliseconds()-a.milliseconds;this.milliseconds(f)}return new r(this.valueOf())}},{key:"formatNumber",value:function(){var e=void 0,t=this;return"_default"===this.formatPersian?e="undefined"!=typeof module&&module.exports!==void 0?t.formatPersian===!1?!1:!0:window.formatPersian===!1?!1:!0:this.formatPersian===!0?e=!0:this.formatPersian===!1?e=!1:Error("Invalid Config 'formatPersian' !!"),e}},{key:"format",value:function(e){function a(e){switch(e){case"a":return i?s.hour>=12?"ب ظ":"ق ظ":s.hour>=12?"PM":"AM";case"H":return u(s.hour);case"HH":return u(o(s.hour,2));case"h":return u(s.hour%12);case"hh":return u(o(s.hour%12,2));case"m":return u(o(s.minute,2));case"mm":return u(o(s.minute,2));case"s":return u(s.second);case"ss":return u(o(s.second,2));case"D":return u(o(s.date));case"DD":return u(o(s.date,2));case"DDD":var t=r.startOf("year");return u(o(r.diff(t,"days"),3));case"DDDD":var a=r.startOf("year");return u(o(r.diff(a,"days"),3));case"d":return u(r.pDate.weekDayNumber);case"ddd":return D[r.pDate.weekDayNumber].abbr.fa;case"dddd":return D[r.pDate.weekDayNumber].name.fa;case"ddddd":return g[r.pDate.monthDayNumber];case"w":var n=r.startOf("year"),h=parseInt(r.diff(n,"days")/7)+1;return u(h);case"ww":var f=r.startOf("year"),c=o(parseInt(r.diff(f,"days")/7)+1,2);return u(c);case"M":return u(s.month);case"MM":return u(o(s.month,2));case"MMM":return v[s.month].abbr.fa;case"MMMM":return v[s.month].name.fa;case"YY":var d=(""+s.year).split("");return u(d[2]+d[3]);case"YYYY":return u(s.year);case"Z":var m="+",l=Math.round(s.timezone/60),y=s.timezone%60;0>y&&(y*=-1),0>l&&(m="-",l*=-1);var M=m+o(l,2)+":"+o(y,2);return u(M);case"ZZ":var p="+",w=Math.round(s.timezone/60),k=s.timezone%60;0>k&&(k*=-1),0>w&&(p="-",w*=-1);var b=p+o(w,2)+""+o(k,2);return u(b);case"X":return r.unix();case"LT":return r.format("h:m a");case"L":return r.format("YYYY/MM/DD");case"l":return r.format("YYYY/M/D");case"LL":return r.format("MMMM DD YYYY");case"ll":return r.format("MMM DD YYYY");case"LLL":return r.format("MMMM YYYY DD   h:m  a");case"lll":return r.format("MMM YYYY DD   h:m  a");case"LLLL":return r.format("dddd D MMMM YYYY  h:m  a");case"llll":return r.format("ddd D MMM YYYY  h:m  a")}}var r=this,n=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DD?D?D?|ddddd|dddd?|do?|w[o|w]?|YYYY|YY|a|A|hh?|HH?|mm?|ss?|SS?S?|zz?|ZZ?|X|LT|ll?l?l?|LL?L?L?)/g,s={year:r.year(),month:r.month(),hour:r.hours(),minute:r.minutes(),second:r.seconds(),date:r.date(),timezone:r.zone(),unix:r.unix()},i=r.formatNumber(),u=function u(e){return i?t(e):e};if(e)return e.replace(n,a);var h="YYYY-MM-DD HH:mm:ss a";return h.replace(n,a)}},{key:"diff",value:function(e,t,a){var r=this,n=e,s=0,i=r.gDate-n.gDate-s,o=r.year()-n.year(),u=r.month()-n.month(),h=-1*(r.date()-n.date()),f=void 0;return f="months"===t||"month"===t?12*o+u+h/30:"years"===t||"year"===t?o+(u+h/30)/12:"seconds"===t||"second"===t?i/1e3:"minutes"===t||"minute"===t?i/6e4:"hours"===t||"hour"===t?i/36e5:"days"===t||"day"===t?i/864e5:"weeks"===t||"week"===t?i/6048e5:i,a?f:Math.round(f)}},{key:"startOf",value:function(e){switch(e){case"years":case"year":return new r([this.year(),1,1]);case"months":case"month":return new r([this.year(),this.month(),1]);case"days":case"day":return new r([this.year(),this.month(),this.date(),0,0,0]);case"hours":case"hour":return new r([this.year(),this.month(),this.date(),this.hours(),0,0]);case"minutes":case"minute":return new r([this.year(),this.month(),this.date(),this.hours(),this.minutes(),0]);case"seconds":case"second":return new r([this.year(),this.month(),this.date(),this.hours(),this.minutes(),this.seconds()]);case"weeks":case"week":var t=this.pDate.weekDayNumber;return 0===t?new r([this.year(),this.month(),this.date()]):new r([this.year(),this.month(),this.date()]).subtract("days",t);default:return this}}},{key:"endOf",value:function(e){switch(e){case"years":case"year":var t=this.isLeapYear()?30:29;return new r([this.year(),12,t,23,59,59]);case"months":case"month":var a=this.daysInMonth(this.year(),this.month());return new r([this.year(),this.month(),a,23,59,59]);case"days":case"day":return new r([this.year(),this.month(),this.date(),23,59,59]);case"hours":case"hour":return new r([this.year(),this.month(),this.date(),this.hours(),59,59]);case"minutes":case"minute":return new r([this.year(),this.month(),this.date(),this.hours(),this.minutes(),59]);case"seconds":case"second":return new r([this.year(),this.month(),this.date(),this.hours(),this.minutes(),this.seconds()]);case"weeks":case"week":var n=this.pDate.weekDayNumber;return n=6===n?7:6-n,new r([this.year(),this.month(),this.date()]).add("days",n);default:return this}}},{key:"sod",value:function(){return this.startOf("day")}},{key:"eod",value:function(){return this.endOf("day")}},{key:"zone",value:function(){return this.pDate.timeZoneOffset}},{key:"local",value:function(){var e=void 0;if(this._utcMode){var t=1e3*60*this.pDate.timeZoneOffset;return e=0>this.pDate.timeZoneOffset?this.valueOf()-t:this.valueOf()+t,this.gDate=new Date(e),this._updatePDate(),this._utcMode=!1,this}return this}},{key:"utc",value:function(e){var t=void 0;if(e)return new r(e).utc();if(this._utcMode)return this;var a=1e3*60*this.pDate.timeZoneOffset;return t=0>this.pDate.timeZoneOffset?this.valueOf()+a:this.valueOf()-a,this.gDate=new Date(t),this._updatePDate(),this._utcMode=!0,this}},{key:"isUtc",value:function(){return this._utcMode}},{key:"isDST",value:function(){var e=this.month(),t=this.date();return 7>e?!1:7==e&&t>=2||e>=7?!0:void 0}},{key:"isLeapYear",value:function(){return this.algorithms.isLeapPersian(this.year())}},{key:"daysInMonth",value:function(e,t){var a=e?e:this.year(),r=t?t:this.month();return 1>r||r>12?0:7>r?31:12>r?30:this.algorithms.isLeapPersian(a)?30:29}},{key:"toDate",value:function(){return this.gDate}},{key:"toArray",value:function(){return[this.year(),this.month(),this.date(),this.hour(),this.minute(),this.second(),this.millisecond()]}},{key:"_valueOf",value:function(){return this.gDate.valueOf()}},{key:"unix",value:function(e){var t=void 0;if(e)return new r(1e3*e);var a=""+this.gDate.valueOf();return t=a.substring(0,a.length-3),parseInt(t)}},{key:"isPersianDate",value:function(e){return e instanceof r}},{key:"millisecond",value:function(e){return this.milliseconds(e)}},{key:"milliseconds",value:function(e){return e?(this.gDate.setMilliseconds(e),this._updatePDate(),this):this.pDate.milliseconds}},{key:"second",value:function(e){return this.seconds(e)}},{key:"seconds",value:function(e){return e|0===e?(this.gDate.setSeconds(e),this._updatePDate(),this):this.pDate.seconds}},{key:"minute",value:function(e){return this.minutes(e)}},{key:"minutes",value:function(e){return e||0===e?(this.gDate.setMinutes(e),this._updatePDate(),this):parseInt(this.pDate.minutes)}},{key:"hour",value:function(e){return this.hours(e)}},{key:"hours",value:function(e){return e|0===e?(this.gDate.setHours(e),this._updatePDate(),this):this.pDate.hours}},{key:"dates",value:function(e){return this.date(e)}},{key:"date",value:function(e){if(e||0===e){var t=this.algorithms.getPersianArrayFromPDate(this.pDate);return t[2]=e,this.gDate=this.algorithms.persianArrayToGregorianDate(t),this._updatePDate(),this}return this.pDate.date}},{key:"days",value:function(){return this.day()}},{key:"day",value:function(){return this.pDate.day}},{key:"month",value:function(e){if(e|0===e){var t=this.algorithms.getPersianArrayFromPDate(this.pDate);return t[1]=e,this.gDate=this.algorithms.persianArrayToGregorianDate(t),this._updatePDate(),this}return this.pDate.month}},{key:"years",value:function(e){return this.year(e)}},{key:"year",value:function(e){if(e|0===e){var t=this.algorithms.getPersianArrayFromPDate(this.pDate);return t[0]=e,this.gDate=this.algorithms.persianArrayToGregorianDate(t),this._updatePDate(),this}return this.pDate.year}},{key:"getFirstWeekDayOfMonth",value:function(e,t){var a=this.algorithms.calcPersian(e,t,1),r=this.algorithms.calcGregorian(a[0],a[1],a[2]);return 8===r[3]+2?1:7===r[3]+2?7:r[3]+2}},{key:"clone",value:function(){var e=this;return new r(e.gDate)}},{key:"_updatePDate",value:function(){this.pDate=this.algorithms.toPersianDate(this.gDate)}},{key:"valueOf",value:function(){return this._valueOf()}}]),r}();(function(){if("undefined"!=typeof module&&module.exports!==void 0){var e=p;module.exports={pDate:e,Duration:M}}else"function"==typeof define&&define.amd?define([],function(){return p}):(window.pDate=window.persianDate=window.PersianDate=p,window.Duration=M)})()})();
//@ sourceMappingURL=true